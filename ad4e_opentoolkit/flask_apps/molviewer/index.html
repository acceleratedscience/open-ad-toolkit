<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="css/carbon.css" />
		<link rel="stylesheet" href="css/main.css" />
		<link rel="stylesheet" href="app/molviewer-main.css" />
		<script src="https://3Dmol.org/build/3Dmol-min.js"></script>
		<!-- <script src="https://jmol.sourceforge.net/jmol/JSmol.min.js"></script> -->
	</head>
	<body>
		<div id="mol-render">
			<div class="mol-2d">{{ svg | safe }}</div>
			<div class="mol-3d"></div>
		</div>

		<!-- <div id="JmolOuterDiv" style="width: 400px; height: 400px"></div> -->
		<!-- <script type="text/javascript">
			var myJmol = 'myJmol'
			var JmolInfo = {
				width: '100%',
				height: '100%',
				color: '#E2F4F5',
				j2sPath: 'app/libs/j2s',
				serverURL: 'app/libs/jsmol.php',
				use: 'html5',
			}

			$('#JmolOuterDiv').css({ width: 'calc( 100% - 1.2em )', border: '1px dotted gray', 'border-radius': '0.6em', padding: '0.6em', 'min-height': '90vmin' })
			$('#JmolOuterDiv').prepend('<div id="JmolInnerDiv" style="width:90vmin; height:90vmin; float:left; margin-right:0.6em;"></div>')
			$('#JmolInnerDiv').html(Jmol.getAppletHtml(myJmol, JmolInfo))

			//
			// Jmol.script(jmolApplet, 'load INLINE "CC/C=C/c1cc(O)c(O)c(O)c1"')
			// console.log(Jmol)
			// Jmol.script(myJmol, 'load app/aspirina.mol')
			Jmol.script(myJmol, 'load INLINE "CC/C=C/c1cc(O)c(O)c(O)c1"')
		</script> -->

		<div id="grid">
			<!-- <div class="grid grid-1"></div>
			<div class="grid grid-2"></div>
			<div class="grid grid-3"></div>
			<div class="grid grid-4"></div>
			<div class="grid grid-5"></div>
			<div class="grid grid-6"></div>
			<div class="grid grid-7"></div>
			<div class="grid grid-8"></div>
			<div class="grid grid-9"></div>
			<div class="grid grid-10"></div>
			<div class="grid grid-11"></div>
			<div class="grid grid-12"></div> -->

			<!-- Left -->
			<div class="col-left">
				<div id="breadcrumbs">Molecules &nbsp;&rsaquo;&nbsp; Ibuprofen.json</div>
				<div id="title-wrap">
					<div class="icn-mol"></div>
					<h1 id="data-name" data-val="{{mol.name}}">{% if mol.name %}{{ mol.name }}{% else %}Unnamed Molecule{% endif %}</h1>
					<!-- <div id="btn-bookmark" class="icn-star"></div> -->
				</div>
				<div id="identification">
					<div><b>InChI: </b><span id="data-inchi">{{mol.InChI}}</span></div>
					<div><b>InChIKey: </b>{{mol.InChIKey}}</div>
					<div><b>SMILES: </b><span id="data-smiles">{{mol.SMILES}}</span></div>
					<div><b>PubChem CID: </b><a id="data-cid" href="https://pubchem.ncbi.nlm.nih.gov/compound/{{mol.cid}}" target="_blank">{{mol.cid}}</a></div>
				</div>

				<br />
				<hr />
				<br />

				<div id="parameters">
					<h2>PubChem Parameters</h2>
					<div><b>Foo: </b>bar</div>
				</div>

				<br />
				<a class="toggle-expand" id="show-json" href="#">JSON</a>
				<pre style="tab-size: 30px">{{mol_json}}</pre>
				<br /><br />

				<a class="toggle-expand" id="show-json-pubchem" href="#">PubChem JSON</a>
				<pre style="tab-size: 30px"></pre>
				<script>
					document.querySelectorAll('.toggle-expand').forEach($elm => {
						$elm.addEventListener('click', e => {
							e.preventDefault()
							$elm.classList.toggle('expand')
						})
					})
				</script>
			</div>

			<!-- Right -->
			<div class="col-right"></div>
		</div>
		<div id="mol-data" data-sdf="{{mol_sdf}}" data-json="{{mol_json}}"></div>

		<script src="app/molviewer-main.js"></script>
	</body>
</html>
